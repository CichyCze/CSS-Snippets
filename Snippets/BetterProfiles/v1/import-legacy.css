/*
 * @name BetterProfiles
 * @author SEELE1306
 * @authorLink https://github.com/SEELE1306
 * @description Improves general layout of user profiles, improving readability and visual appeal.
 * @license MIT
 * @version 1.0.5
 * @authorId 518795791318384647
 * @discord seele1306
 */

/* [[ PROFILES ]] */
.divider_ae36e5,
.userInfoSection_a24910 .eyebrow_dc00ef:last-child, /* Notes in profile modal */
.section_d7a21f:has(.roles_fa2f72:empty), /* no roles */
[class*=userPanelInner_]::before,
.lastSection_d7a21f, /* notes section */
.aboutMeGuildIcon_b05b69 /* Profile guild icon */ {
  display: none;
}

/* Enable separate sections */
.userPopoutOverlayBackground_c69a7b,
.userProfileModalOverlayBackground_c69a7b,
.connectedAccounts_f3eb60 {
  background: transparent !important;
}

/* Section eyebrows */
:is(.section_d7a21f, .userInfoSection_a24910) .eyebrow_dc00ef {
  display: block;
  text-align: center;
}

.eyebrow_dc00ef {
  font-size: 12px;
  font-weight: 800;
  color: var(--text-muted) !important;
}

/* Fix profile popout clip at 6 lines */
[style^="-webkit-line-clamp: 6"] {
  display: block;
}

/* Fix profile in customization section */
.profileCustomizationSection_bad983 .section_d7a21f.container_c9ccf6 {
  justify-content: center;
}

.profileCustomizationSection_bad983 .section_d7a21f.container_c9ccf6 > div {
  width: 100%;
}

/* Limit height of user popouts */
.userPopoutOuter_c69a7b {
  border-radius: 8px;
}

[class^="userPopoutInner_"] {
  max-height: calc(75vh - 28px);
}

/* General layout, center items */
.mainContainer_f005b2.profileMutuals_d2b491 {
  padding-bottom: 8px;
}

.section_d7a21f {
  margin: 8px 0;
  padding: 8px;
}

.section_d7a21f > div:not(.activity__20c1e, .roles_fa2f72),
.memberSinceWrapper_b06bc5,
.mainContainer_f005b2.profileMutuals_d2b491,
.userInfoText_a24910,
.container_afed89,
.nameTag_afed89,
.popularApplicationCommandsList_d2db23,
.section_d7a21f:has(.vc-user-connection) > .eyebrow_dc00ef {
  justify-content: center;
  text-align: center;
  align-items: center;
}

.section_d7a21f:not(:has(.buttonsContainer_b709ea)),
.mutualGuildsList_b433b4,
.mutualFriendsList_b433b4,
.userInfoText_a24910.aboutMeGuildIcon_b05b69,
.mainContainer_f005b2.profileMutuals_d2b491,
.userInfoSection_a24910 {
  background: var(--profile-body-background-color);
  border-radius: 8px;
}

/* Custom status */
.section_d7a21f.customStatusSection_d2b491 {
  margin: 8px 12px;
}

.customStatus_cb55fc::before,
.customStatus_afed89::before {
  content: "Current status";
  text-transform: uppercase;
  font-weight: 800;
  font-size: 12px;
  color: var(--text-muted);
  display: block;
}

.customStatus_cb55fc .customStatusEmoji_cb55fc,
.customStatus_afed89 .customStatusEmoji_cb55fc {
  margin: 4px -12px 8px;
  position: relative;
  left: 50%;
  float: none;
  border-radius: 4px;
}

.customStatus_cb55fc .customStatusEmoji_cb55fc.customStatusSoloEmoji_cb55fc,
.customStatus_afed89 .customStatusEmoji_cb55fc.customStatusSoloEmoji_cb55fc {
  position: relative;
  left: 42.5%;
}

/* Activity user popout */
.activityUserPopoutV2_d5089b {
  padding: 0 8px;
}

/* Spotify song text and time left align */
.contentImagesUserPopoutV2_d5089b,
.textLeft_aa267a {
  text-align: left;
}

/* Mutual servers/friends */
.profileMutuals_d2b491 {
  padding-top: 8px;
}

/* Pronouns */
.pronouns_c9ccf6,
.pronouns_afed89 {
  color: var(--text-normal);
  font-size: 16px;
  font-weight: bold;
  padding: 4px 6px;
  margin: 4px 0 0 0;
  border-radius: 8px;
  max-width: 90%;
  overflow: hidden;
  background: linear-gradient(
    45deg,
    var(--profile-gradient-primary-color),
    var(--profile-gradient-secondary-color)
  );
  background-size: 200% 200%;
}

.scrollerSeparator_d2b491 {
  box-shadow: none;
}

/* profile section width fix */
.section_d7a21f.usernameSection_d2b491 {
  margin: 8px 12px;
  padding: 8px;
}

.section_d7a21f.usernameSection_d2b491 > div {
  width: 100%;
}

/* remove border in modal connections */
.userInfoSection_a24910 + .userInfoSection_a24910 {
  border-top: none;
}

/* fix badge list height */
.profileBadges_f89da9.container_b64375 {
  min-height: fit-content;
  margin-right: 10px;
}

/* Profile fixes */
[style^="-webkit-line-clamp: 6"] {
  display: block;
}

[class^="userProfileModalOverlayBackground__"] > [class^="body_"] {
  flex: 0 1 50%;
}

:is(.userPopoutInner_c69a7b, .userInfoText_a24910) .blockquoteContainer_d6076c {
  justify-content: center;
}

/* User modal tab */
.tabBarContainer_b9fccc {
  margin: 16px 0 0;
  border: none;
}

.tabBar_b9fccc {
  flex-flow: row wrap;
  gap: 8px;
  justify-content: center;
  margin-bottom: 8px;
}

/* User modal tab buttons */
.tabBarItem_b9fccc {
  border: none;
  background: var(--background-modifier-accent);
  padding: 2px 0;
  width: 31%;
  height: fit-content;
  border-radius: 8px;
  text-align: center;
}
.tabBarItem_b9fccc:hover {
  background: var(--background-modifier-hover) !important;
}

.tabBarItem_b9fccc.selected_a0 {
  background: var(--background-modifier-selected);
}

/* User modal name container */
.container_afed89 {
  background: var(--profile-body-background-color);
  padding: 12px;
  margin: 12px;
  border-radius: 8px;
}

/* User modal section header */
.userInfoSectionHeader_a24910 {
  text-align: center;
}

.userInfoSection_a24910 {
  padding-bottom: 8px;
  margin-top: 12px;
}

.item_a0:hover,
.selected_a0.item_a0 {
  border: none;
}

.divider__979dc {
  background: var(--profile-body-divider-color);
}

.platformIcon_d5089b {
  margin: 2px 2px;
}

.scroller_ed5743 {
  left: 12.5%;
}

/* add ReviewDB */
div[style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;"],
.vc-rdb-view {
  padding: 4px 8px;
  margin-top: 8px;
  border-radius: 8px;
  background: var(--profile-body-background-color);
}

.vc-rdb-input {
  border: none;
  background: var(--profile-body-background-color);
}

/* [[ ROLE PILLS ]] */
/* credits to Saltssaumure for this part */
[class*="roles_"] {
  justify-content: center;
}

.rolePillBorder_fa2f72 {
  border-color: none;
}

.rolePill_fa2f72 {
  padding: 0;
  overflow: hidden;
  position: relative;
}

.rolePill_fa2f72 .roleRemoveButton_f9575e {
  position: unset;
  /* width: 100%; */
  height: 100%;
}

.rolePill_fa2f72 .roleRemoveButton_f9575e .roleCircle_a26d7b {
  border-radius: unset;
  margin: unset;
  position: absolute;
  width: 100%;
  height: 100%;
  mix-blend-mode: multiply;
  text-align: center;
}

.rolePill_fa2f72 .roleRemoveButton_f9575e .roleRemoveIcon_e4010c {
  background: var(--profile-role-pill-background-color);
  padding: 2px;
  border-radius: 50%;
  margin: -6px 0 0 -6px;
}

.rolePill_fa2f72 .roleRemoveButton_f9575e .roleRemoveIcon_e4010c path {
  fill: #fff;
}

.rolePill_fa2f72 .roleRemoveButton_f9575e + .roleName_e4010c {
  margin-left: 4px;
}

.rolePill_fa2f72 .roleIcon_e4010c {
  margin-left: 4px;
  min-width: 16px;
  z-index: 1;
}

.rolePill_fa2f72 .roleName_e4010c {
  padding: 4px;
}

.rolePill_fa2f72 .roleName_e4010c div {
  font-weight: 600;
}

/* Connected accounts */
.connectedAccountContainer_f3eb60 {
  border-width: 2px;
  border-radius: 8px;
}

.connectedAccountContainer_f3eb60:has(.connectedAccountOpenIcon_f3eb60:hover) {
  background: var(--profile-body-divider-color);
}

.flowerStarContainer_ff7d90.connectedAccountVerifiedIcon_f3eb60 > svg > path {
  fill: var(--profile-body-divider-color);
  filter: brightness(1) contrast(2);
}
