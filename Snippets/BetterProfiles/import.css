/*
 * @name BetterProfiles
 * @author SEELE1306
 * @authorLink https://github.com/SEELE1306
 * @description Improves general layout of user profiles, improving readability and visual appeal.
 * @license MIT
 * @version 1.0.3
 * @authorId 518795791318384647
 * @discord seele1306
 */

/* [[ PROFILES ]] */

.divider_d6f39c,
.userInfoSection_e816c1 .eyebrow_b3f8ba:last-child, /* Notes in profile modal */
.section__62b44:has(.roles__74a2b:empty), /* no roles */
[class*=userPanelInner_]::before,
.lastSection__62986, /* notes section */
.aboutMeGuildIcon_b05b69 /* Profile guild icon */ {
  display: none;
}

/* Enable separate sections */
.userPopoutOverlayBackground__3e7e6,
.userProfileModalOverlayBackground_a5b043,
.connectedAccounts__7a8e6 {
  background: transparent !important;
}

/* Section eyebrows */
:is(.section__62b44, .userInfoSection_e816c1) .eyebrow_b3f8ba {
  display: block;
  text-align: center;
}

.eyebrow_b3f8ba {
  font-size: 12px;
  font-weight: 800;
  color: var(--text-muted) !important;
}

/* Fix profile popout clip at 6 lines */
[style^="-webkit-line-clamp: 6"] {
  display: block;
}

/* Fix profile in customization section */
.profileCustomizationSection_c4a87a {
  & .section__62b44 {
    &.container__1c2eb {
      justify-content: center;

      & > div {
        width: 100%;
      }
    }
  }
}

/* Limit height of user popouts */
.userPopoutOuter_d67f56 {
  border-radius: 8px;
}

[class^="userPopoutInner_"] {
  max-height: calc(75vh - 28px);
}

/* General layout, center items */
.mainContainer_c5e1e2.profileMutuals__95dc2 {
  padding-bottom: 8px;
}

.section__62b44 {
  margin: 8px 0;
  padding: 8px;
}

.section__62b44 > div:not(.activity__20c1e, .roles__74a2b),
.memberSinceWrapper_f76b59,
.mainContainer_c5e1e2.profileMutuals__95dc2,
.userInfoText_b87307,
.container__9f51c,
.nameTag_fdddf8,
.popularApplicationCommandsList__0eb68,
.section__62b44:has(.vc-user-connection) > .eyebrow_b3f8ba {
  justify-content: center;
  text-align: center;
  align-items: center;
}

.section__62b44:not(:has(.buttonsContainer__83ada)),
.mutualGuildsList__5e9f3,
.mutualFriendsList__02caf,
.userInfoText_b87307.aboutMeGuildIcon_b05b69,
.mainContainer_c5e1e2.profileMutuals__95dc2,
.userInfoSection_e816c1 {
  background: var(--profile-body-background-color);
  border-radius: 8px;
}

/* Custom status */
.section__62b44.customStatusSection_c9f9ba {
  margin: 8px 12px;
}

.customStatus__6a31a,
.customStatus_fe94ef {
  &::before {
    content: "Current status";
    text-transform: uppercase;
    font-weight: 800;
    font-size: 12px;
    color: var(--text-muted);
    display: block;
  }

  & .customStatusEmoji__81bd9 {
    margin: 4px -12px 8px;
    position: relative;
    left: 50%;
    float: none;
    border-radius: 4px;

    &.customStatusSoloEmoji_aab12e {
      position: relative;
      left: 42.5%;
    }
  }
}

/* Activity user popout */
.activityUserPopoutV2__89098 {
  padding: 0 8px;
}

/* Spotify song text and time left align */
.contentImagesUserPopoutV2_cbfb04,
.textLeft__05c15 {
  text-align: left;
}

/* Mutual servers/friends */
.profileMutuals__95dc2 {
  padding-top: 8px;
}

/* Pronouns */
.pronouns__8aa38,
.pronouns__3d468 {
  color: var(--text-normal);
  font-size: 16px;
  font-weight: bold;
  padding: 4px 6px;
  margin: 4px 0 0 0;
  border-radius: 8px;
  max-width: 90%;
  overflow: hidden;
  background: linear-gradient(
    45deg,
    var(--profile-gradient-primary-color),
    var(--profile-gradient-secondary-color)
  );
  background-size: 200% 200%;
}

.scrollerSeparator_d8843a {
  box-shadow: none;
}

/* profile section width fix */
.section__62b44.usernameSection_dd6196 {
  margin: 8px 12px;
  padding: 8px;

  & > div {
    width: 100%;
  }
}

/* remove border in modal connections */
.userInfoSection_e816c1 + .userInfoSection_e816c1 {
  border-top: none;
}

/* fix badge list height */
.profileBadges__1f2ab.container_ed2af4 {
  min-height: fit-content;
  margin-right: 10px;
}

/* Profile fixes */
[style^="-webkit-line-clamp: 6"] {
  display: block;
}

[class^="userProfileModalOverlayBackground__"] > [class^="body_"] {
  flex: 0 1 50%;
}

:is(.userPopoutInner_ac0960, .userInfoText_b87307) .blockquoteContainer__66aaa {
  justify-content: center;
}

/* User modal tab */
.tabBarContainer_b283be {
  margin: 16px 0 0;
  border: none;
}

.tabBar__35f81 {
  flex-flow: row wrap;
  gap: 8px;
  justify-content: center;
  margin-bottom: 8px;
}

/* User modal tab buttons */
.tabBarItem_ce14f3 {
  border: none;
  background: color-mix(
    in srgb,
    var(--profile-body-background-color) 40%,
    transparent
  );
  padding: 2px 0;
  width: 31%;
  height: fit-content;
  border-radius: 8px;
  text-align: center;

  &:hover {
    background: color-mix(
      in srgb,
      var(--profile-body-background-color) 70%,
      transparent
    ) !important;
  }

  &.selected_a523ff {
    background: color-mix(
      in srgb,
      var(--profile-body-background-color) 100%,
      transparent
    );
  }
}

/* User modal name container */
.container__9f51c {
  background: var(--profile-body-background-color);
  padding: 12px;
  margin: 12px;
  border-radius: 8px;
}

/* User modal section header */
.userInfoSectionHeader_c9f1d3 {
  text-align: center;
}

.userInfoSection_e816c1 {
  padding-bottom: 8px;
  margin-top: 12px;
}

.item__48dda:hover,
.selected_a523ff.item__48dda {
  border: none;
}

.divider__979dc {
  background: var(--profile-body-divider-color);
}

.platformIcon_a2d873 {
  margin: 2px 2px;
}

.scroller__18a89 {
  left: 12.5%;
}

/* add ReviewDB */
div[style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;"],
.vc-rdb-view {
  padding: 4px 8px;
  margin-top: 8px;
  border-radius: 8px;
  background: var(--profile-body-background-color);
}

.vc-rdb-input {
  border: none;
  background: var(--profile-body-background-color);
}

/* [[ ROLE PILLS ]] */
/* credits to Saltssaumure for this part */
[class*="roles_"] {
  justify-content: center;
}

.rolePillBorder_e3a889 {
  border-color: none;
}

.rolePill_f50ff5 {
  padding: 0;
  overflow: hidden;
  position: relative;

  & .roleRemoveButton__20c70 {
    position: unset;
    /* width: 100%; */
    height: 100%;

    & .roleCircle__61ad8 {
      border-radius: unset;
      margin: unset;
      position: absolute;
      width: 100%;
      height: 100%;
      mix-blend-mode: multiply;
      text-align: center;
    }

    & .roleRemoveIcon_c3913a {
      background: var(--profile-role-pill-background-color);
      padding: 2px;
      border-radius: 50%;
      margin: -6px 0 0 -6px;

      & path {
        fill: #fff;
      }
    }

    & + .roleName__851c9 {
      margin-left: 4px;
    }
  }

  & .roleIcon_aa2eb3 {
    margin-left: 4px;
    min-width: 16px;
    z-index: 1;
  }

  & .roleName__851c9 {
    padding: 4px;

    & div {
      font-weight: 600;
    }
  }
}

/* Connected accounts */
.connectedAccountContainer__5972d {
  border-width: 2px;
  border-radius: 8px;
}

.connectedAccountContainer__5972d:has(.connectedAccountOpenIcon__23b1a:hover) {
  background: var(--profile-body-divider-color);
}

.flowerStarContainer__00f61.connectedAccountVerifiedIcon__103a6 > svg > path {
  fill: var(--profile-body-divider-color);
  filter: brightness(1) contrast(2);
}
